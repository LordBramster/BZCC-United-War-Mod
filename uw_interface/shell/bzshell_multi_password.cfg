// ================
// BATTLEZONE SHELL
// ================

//
// CREATE THE NAME DIALOG
//

CreateControl("AskPassword", "STATIC")
{
	ColorGroup("BACKGROUND");
	Geometry("PARENTWIDTH", "PARENTHEIGHT");
	Style("MODAL");

	CreateControl("PasswordWindow", "STATIC")
	{
		Geometry("HCENTRE", "VCENTRE");
		ColorGroup("MAGENTA");
		Position(0, 5);
		Size(200, 60);
		BorderSize(10);
		BevelSize(5);
		TabSize(150, 10);
		Style("OUTLINE", "TABROOT");
		Title("Password");
		TitleFont("MEDIUM");
		ForceOpaqueBackground();

		CreateControl("PasswordTitle", "STATIC")
		{
			Geometry("LEFT", "TOP");
			Position(-5, 0);
			Size(180, 10);
			Font("MEDIUM");
			Text("Enter Password");
			Style("TRANSPARENT");
		}

		//
		// create the password box
		//
		CreateControl("PasswordEdit", "EDIT")
		{
			MaskInput(1);
			ColorGroup("BLACKBLUE");
			Geometry("LEFT", "TOP");
			Position(0, 20);
			Size(200, 10);
			BorderSize(5);
			BevelSize(5);
			Style("ROLLOVER", "OUTLINE");
			Font("SMALL");
			UseVar("network.session.password");
			Cursor("Highlight");
			NotifyParent("Edit::Enter", "Okay");
		}	

		//
		// create the Launch button
		//
		CreateControl("Okay", "BUTTON")
		{
			ColorGroup("BLACKBLUE");
			Geometry("RIGHT", "BOTTOM");
			Position(-10, -5);
			Size(70, 0);
			BorderSize(10);
			BevelSize(5);
			Font("SMALL");
			JustifyText("CENTER");
			Text("OK");
			Style("ROLLOVER", "OUTLINE");
			Cursor("Highlight");
			NotifyParent("Button::Press", "Okay");
		}	

		//
		// create the cancel button
		//
		CreateControl("Cancel", "BUTTON")
		{
			ColorGroup("BLACKBLUE");
			Geometry("Left", "BOTTOM");
			Position(10, -5);
			Size(70, 0);
			BorderSize(10);
			BevelSize(5);
			Font("SMALL");
			JustifyText("CENTER");
			Text("Cancel");
			Style("ROLLOVER", "OUTLINE");
			Cursor("Highlight");
			NotifyParent("Button::Press", "Cancel");
		}	

		OnEvent("Control::ActivateSelf")
		{
			Cmd("network.session.listoff");
		}

		OnEvent("Control::DeactivateSelf")
		{
			Cmd("network.session.liston");
		}

		//
		// handle the Okay event
		//
		OnEvent("Okay")
		{
			Cmd("network.session.join");
		}	

		//
		// handle the Cancel event
		//
		OnEvent("Cancel")
		{
			Cmd("network.session.cancelpassword");
		}
	}
}

