
CreateControl("ShellAddons", "WINDOW")
{
	Geometry("PARENTWIDTH", "PARENTHEIGHT");
	Style("TRANSPARENT");

	CreateControl("Main", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("LEFT", "TOP");
		Position(20, 20);
		Size(139, 0);
		BorderSize(10);
		BevelSize(0);
		// BevelSize(5);
		Style("ROLLOVER", "OUTLINE");
		Text("Back");									// SIRBRAMBLEY
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Press", "Main");
	}

	CreateControl("GetAddons", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("RIGHT", "TOP");
		Position(-20, 20);
		Size(139, 0);
		BorderSize(10);
		BevelSize(0);
		// BevelSize(5);
		Style("ROLLOVER", "OUTLINE");
		Text("Steam Workshop");							// SIRBRAMBLEY
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Press", "GetAddons");
	}

	CreateControl("InactiveAddons", "WINDOW")
	{
		Geometry("LEFT", "VCENTRE");
		Position(20, 5);
		Size(240, 360);
		BorderSize(10);
		BevelSize(0);
		// BevelSize(5);
		TabSize(150, 10);
		Style("OUTLINE", "INERT");
		Title("Disabled Addons");						// SIRBRAMBLEY
		TitleFont("MEDIUM");

		CreateControl("InactiveList", "LISTBOX")
		{
			ColorGroup("LISTBOX");
			Position(0, 0);
			Size(240, 308);
			CellSize(230, 11);
			BorderSize(5);
			BevelSize(0);
			// BevelSize(3);
			Style("VSLIDER");
			Font("SMALL");
			UseVar("shell.addonmod.inactiveslot");
			NotifyParent("Listbox::DblClick", "ActivateAddon");
			Cursor("Highlight");
		}

		CreateControl("ActivateAddon", "BUTTON")
		{
			Geometry("LEFT", "BOTTOM");
			Position(10, -5);
			Size(111, 0);
			BorderSize(5);
			BevelSize(0);
			// BevelSize(3);
			Text("Enable");												// SIRBRAMBLEY
			Font("MEDIUM");
			Style("ROLLOVER", "OUTLINE");
			Cursor("Highlight");
			NotifyParent("Button::Press", "ActivateAddon");
		}
		OnEvent("ActivateAddon")
		{
			Cmd("shell.addonmod.activate");
		}

		// Open the selected mod in the workshop via Steam Overlay.
		CreateControl("OpenInWorkshop", "BUTTON")
		{
			Geometry("LEFT", "BOTTOM");
			Position(10, -30);
			Size(111, 0);
			BorderSize(5);
			BevelSize(0);
			// BevelSize(3);
			Text("View Mod Page");								// SIRBRAMBLEY
			Font("MEDIUM");
			Style("ROLLOVER", "OUTLINE");
			Cursor("Highlight");
			NotifyParent("Button::Press", "OpenAddon");
		}
		OnEvent("OpenAddon")
		{
			Cmd("shell.addonmod.showmod");
		}
	}

	CreateControl("ActiveAddons", "WINDOW")
	{
		Geometry("RIGHT", "VCENTRE");
		Position(-20, 5);
		Size(240, 360);
		BorderSize(5);
		BevelSize(0);
		// BevelSize(3);
		TabSize(150, 10);
		Style("OUTLINE", "INERT", "RIGHTTAB");
		Title("Enabled Addons");								// SIRBRAMBLEY
		TitleFont("MEDIUM");

		CreateControl("ActiveList", "LISTBOX")
		{
			Geom("RIGHT");
			ColorGroup("LISTBOX");
			Position(0, 0);
			Size(240, 308);
			CellSize(230, 11);
			BorderSize(5);
			BevelSize(0);
			// BevelSize(3);
			Style("VSLIDER");
			Font("SMALL");
			UseVar("shell.addonmod.activeslot");
			NotifyParent("Listbox::DblClick", "DeactivateAddon");
			Cursor("Highlight");
		}
		
		CreateControl("DeactivateAddon", "BUTTON")
		{
			Geometry("RIGHT", "BOTTOM");
			Position(-10, -5);
			Size(111, 0);
			BorderSize(10);
			BevelSize(0);
			// BevelSize(5);
			Text("Disable");								// SIRBRAMBLEY
			Font("MEDIUM");
			Style("ROLLOVER", "OUTLINE");
			Cursor("Highlight");
			NotifyParent("Button::Press", "DeactivateAddon");
		}
		OnEvent("DeactivateAddon")
		{
			Cmd("shell.addonmod.deactivate");
		}

		CreateControl("SortAddonUp", "BUTTON")
		{
			Geometry("LEFT", "BOTTOM");
			Position(5, -30);
			Size(90, 0);
			BorderSize(10);
			BevelSize(0);
			// BevelSize(5);
			Text("Move Up");
			Font("MEDIUM");
			Style("ROLLOVER", "OUTLINE");
			Cursor("Highlight");
			NotifyParent("Button::Press", "SortAddonUp");
		}
		OnEvent("SortAddonUp")
		{
			Cmd("shell.addonmod.up");
		}
		CreateControl("SortAddonDown", "BUTTON")
		{
			Geometry("LEFT", "BOTTOM");
			Position(5, -5);
			Size(90, 0);
			BorderSize(10);
			BevelSize(0);
			// BevelSize(5);
			Text("Move Down");
			Font("MEDIUM");
			Style("ROLLOVER", "OUTLINE");
			Cursor("Highlight");
			NotifyParent("Button::Press", "SortAddonDown");
		}
		OnEvent("SortAddonDown")
		{
			Cmd("shell.addonmod.down");
		}
	}

	CreateControl("AddonSelection", "WINDOW")
	{
		Geometry("HCENTRE", "VCENTRE");
		Position(0, 5);
		Size(240, 360);
		BorderSize(10);
		BevelSize(0);
		// BevelSize(5);
		TabSize(235, 10);
		Style("OUTLINE", "INERT");
		Title("Mod Information");								// SIRBRAMBLEY	
		TitleFont("MEDIUM");

		CreateControl("AddonImage", "STATIC")
		{
			Geometry("HCENTRE", "TOP");
			ColorGroup("WHITE");
			Position(0, 5);
			Size(240, 240);
			Style("INERT");
			//UseVar(""); // Fill me in! Or auto associate from engine like map previews?
			Cursor("Highlight");
		}

		CreateControl("AddonDesc", "LISTBOX")
		{
			Geometry("HCENTRE", "BOTTOM");
			ColorGroup("LISTBOX");
			Position(0, 0);
			Size(240, 100);
			CellSize(230, 11);
			BorderSize(5);
			BevelSize(0);
			// BevelSize(3);
			Style("VSLIDER");
			Font("SMALL");
			Cursor("Highlight");
		}
	}

	OnEvent("Main")
	{
		cmd("shell.stopSound mire22_5.wav");
		FadeOut();
		FadeIn("|ShellMain");
		Cmd("shell.addonmod.restartForAddons");
	}
	
	OnEvent("GetAddons")
	{
		Cmd("shell.addonmod.getaddons");
	}
	
	OnEvent("Control::ActivateSelf")
	{
		// cmd("shell.backgroundSound mire22_5.wav");					// KEEPING MAIN MENU MUSIC CONTINUOUS ACROSS PAGE
		cmd("shell.background multip_end.tga BackStarField.tga");
	}
	
	OnEvent("Control::Activate")
	{
		cmd("shell.configmod.testWorkshopButtons");
	}

}

