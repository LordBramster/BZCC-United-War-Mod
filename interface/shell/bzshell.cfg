// ================
// BATTLEZONE SHELL		SIRBRAMBLEY
// ================

// ========================
// BATTLEZONE MAIN SHELL SCREEN
// ========================

//
// CONFIGURE CORE ELEMENTS
//
ConfigureInterface()
{

// Create main recurring control elements, reduce duplicate code. -GBD

///////////////////// Main Buttons \\\\\\\\\\\\\\\\\\\\

	//
	// Main Menu Button
	//
	DefineControlType("MainMenuButton", "BUTTON")
	{
		ColorGroup("MAGENTABUTTON");
		Geometry("TOP", "LEFT", "HINTERNAL", "VINTERNAL"); // Geometry("HCENTRE", "TOP");
//		Align("<Control");
		Position(0, 25); // 160 // Position(-90, 20);
		Size(139, 0);
		BorderSize(10);
		BevelSize(0); //5
		Image("ButtonF.tga", 0, 0, 860, 131);
		Style("ROLLOVER", "OUTLINE"); // "RADIO",
//		Text("FIXME!");
		Font("MEDIUM");
		JustifyText("LEFT");
		Cursor("Highlight");
//		NotifyParent("Button::Press", "Single"); //Button::Select
		// Sound("MouseEnter", "shmroll.wav");				// GBD
		// Sound("ButtonPress", "shmclick.wav");			// GBD
	}

	//
	// Stats/Mods/ round icon button w/ text.
	//
	DefineControlType("StatsButton", "BUTTON")
	{
		ColorGroup("MAGENTABUTTONICON");
		Geometry("TOP", "LEFT", "HINTERNAL", "VINTERNAL");
//		Align("<Control");
		Position(120, 0);
		Size(139, 0);
		BorderSize(10);
		BevelSize(0);
		Image("ButtonSteam.tga", 0, 0, 860, 131);
		Style("ROLLOVER", "OUTLINE"); // "RADIO",
//		Text("FIXME!");
		Font("SMALL");
		JustifyText("CENTER");
		Cursor("Highlight");
//		NotifyParent("Button::Press", "Single");	
	}

	DefineControlType("OptionButton", "BUTTON")
	{
//		Align("<Control");
		// ColorGroup("LISTBOX");
		ColorGroup("MAGENTA");
		Geometry("LEFT", "TOP", "HINTERNAL", "VINTERNAL");
		Position(95, 0);
		Size(80, 10);
		BorderSize(5);
		BevelSize(0);
		Style("ROLLOVER", "RADIO", "OUTLINE");
		Font("SMALL");
//		Text("FIXME!");
		Cursor("Highlight");
//		UseVar("");
//		Value(0);
	}

}

// create page variable
ConfigureVarSys()
{
	CreateInteger("shell.page", 0);
	SetIntegerRange("shell.page", 0, 5);
}

// load escape screen pages
Exec("bzshell_init.cfg");
Exec("bzshell_single.cfg");
Exec("bzshell_multi.cfg");
Exec("bzshell_instant.cfg");
Exec("bzshell_login.cfg");
Exec("bzshell_load.cfg");
Exec("bzshell_option.cfg");
Exec("bzshell_single_debrief.cfg");
Exec("bzshell_login_warn_dupfiles.cfg");
Exec("bzshell_warn_crashlogged.cfg");
Exec("bzshell_premods.cfg");
Exec("bzshell_addons.cfg");
Exec("bzshell_mods.cfg");
Exec("bzshell_stats.cfg");

//
// CREATE THE MAIN SHELL PANEL
//
CreateControl("ShellMain", "WINDOW")
{

	Geom("PARENTWIDTH", "PARENTHEIGHT");
	Style("TRANSPARENT", "INERT");

	//
	// create the Campaign options button
	//
	CreateControl("Single", "MainMenuButton")
	{
		Position(40, 160);
		Text("Campaign");
		NotifyParent("Button::Press", "Single");	
	}
	
	//
	// create the Multiplayer button
	//
	CreateControl("Multi", "MainMenuButton")
	{
		Align("<Single");
		Text("Multiplayer");
		NotifyParent("Button::Press", "Multi");
	}

	//
	// create the IA button
	//
	CreateControl("Instant", "MainMenuButton")
	{
		Align("<Multi");
		Text("Skirmish");
		NotifyParent("Button::Press", "Instant");
	}
	
	
	//
	// create the load saves button
	//
	CreateControl("Load", "MainMenuButton")
	{
		Align("<Instant");
		Text("Load Game");
		NotifyParent("Button::Press", "Load");
	}

	//
	// create the mods options button
	//
	CreateControl("Mods", "MainMenuButton")
	{
		Align("<Load");
		Text("Mods");
		NotifyParent("Button::Press", "Mods");
	}


	//
	// create the load options button
	//
	CreateControl("Options", "MainMenuButton")
	{
		Align("<Mods");
		Text("Options");
		NotifyParent("Button::Press", "Options");
	}
	
	//
	// create the logout button
	//
	CreateControl("Logout", "MainMenuButton")
	{
		Align("<Options");
		Text("Logout");
		NotifyParent("Button::Press", "Logout");
	}
	
	//
	// create the quit button
	//
	CreateControl("Quit", "MainMenuButton")
	{
		Align("<Logout");
		Text("Quit");
		NotifyParent("Button::Press", "Quit");
	}
	
	//
	// create the game version
	//
	CreateControl("Version", "STATIC")
	{
		ColorGroup("MAGENTABUTTONICON");						//SIRBRAMBLEY
		Geometry("BOTTOM", "RIGHT");
		Position(-80, -25);									//SIBRAMLEY
		// Position(-20, -10);
		// Position(-180, -10);
		// Size(150, 15);
		// Font("MEDIUM");
		// Size(100, 15);
		Size(111, 0);
		BorderSize(10);
		Font("SMALL");
		Text("VERSION: unknown");
		JustifyText("RIGHT");
		Style("TRANSPARENT"); // "OUTLINE", 
	}
	
	// HIDE MOVIE										//SIRBRAMBLEY
	//CreateControl("Movie", "STATIC")
	//{
	//	ColorGroup("WHITE");
	//	Geometry("HCENTRE", "VCENTRE");
	//	Position(0, 0);
	//	Size(320, 240);
	//}	
	
	//
	// SHOW ACHIEVEMENTS BUTTON
	// 
	CreateControl("Achievements", "StatsButton")
	{
		Geometry("BOTTOM", "RIGHT");
		Position(-305, -30);
		Text("Achievements");
		NotifyParent("Button::Press", "Achievements");
	}
	
	//
	// SHOW STATS BUTTON
	// 	
	CreateControl("Stats", "StatsButton")
	{
		Align("<Achievements");
		Position(120, 0);
		Image("ButtonAward.tga", 0, 0, 860, 131);
		Text("Player Stats");
		NotifyParent("Button::Press", "Stats");
	}

	// 
	// SHOW MODEL VIEWER
	// 
	CreateControl("View", "VIEWER")
	{
		// Geometry("RIGHT", "TOP");
		// Position(-50, 60);
		Geometry("BOTTOM", "RIGHT");
		Position(-20, -60);							// SIRBRAMBLEY
		Size(550, 400);								// 350, 220
		Style("TRANSPARENT", "INERT");
		SetModelName("moon00.FBX");						// moon00, dark, pluto, rend .fbx
		SetAmbientColor(0.01, 0.01, 0.01);					// 1.0, 1.0, 1.0 SIRBRAMBLEY
		SetDiffuseColor(1.25, 1.25, 1.25);
		SetDiffuseDir(2.0, -5.0, 1.0);
		// SetDiffuseColor(2.0, 2.0, 2.0);
		// SetDiffuseDir(2.0, -5.0, 1.0);
		SetModelDistance(30.0);								// 50.0
		SetModelInclination(-15.0);							// -15.0 -30.0
		SetModelRotation(1.0);
		// SetModelRotation(2.5);								// 2.0 60.0
	}

	OnEvent("Control::ActivateSelf")
	{
		cmd("shell.showversion");
		cmd("shell.background main.tga BackStarField.tga");
		cmd("shell.movie");
		Activate("|ShellMain");
		cmd("shell.backgroundSound mire22_2.wav");
	}
	
	OnEvent("Control::DeactivateSelf")
	{
		cmd("shell.stopSound mire22_2.wav");
	}

	OnEvent("Single")
	{
		FadeOut("|ShellMain");
		FadeIn("|ShellSingle");
		Cmd("shell.single.enter");
	}

	OnEvent("PostPreMovie")
	{
		Deactivate("|ShellMain");
		Activate("|ShellSingle");
	}
	
	OnEvent("Instant")
	{
		FadeOut("|ShellMain");
		FadeIn("|ShellInstant");
	}
	
	OnEvent("Multi")
	{
		//FadeOut("|ShellMain");
		Cmd("shell.multi.enter");
		//FadeIn("|ShellMulti");
	}

	OnEvent("Load")
	{
		FadeOut("|ShellMain");
		FadeIn("|ShellLoad");
	}

	OnEvent("Options")
	{
		FadeOut("|ShellMain");
		FadeIn("|OptionPanel");
	}

	OnEvent("Mods")
	{
		FadeOut("|ShellMain");
		FadeIn("|ShellPreMods");
	}

	OnEvent("Logout")
	{
		FadeOut("|ShellMain");
		FadeIn("|ShellLogin");	
	}
	
	OnEvent("Achievements")
	{
		cmd("shell.viewachievements");
	}

	OnEvent("Stats")
	{
		FadeOut("|ShellMain");		
		FadeIn("|ShellStats");
	}

	OnEvent("Quit")
	{
		Cmd("sys.runcode quit");
	}

}
