// ================
// BATTLEZONE SHELL		SIRBRAMLEY
// ================

//
// CREATE SHELL LOGIN PAGE
//

// ========================
// BATTLEZONE MAIN SHELL SCREEN
// ========================

// create page variable
ConfigureVarSys()
{
	CreateInteger("shell.page", 0);
	SetIntegerRange("shell.page", 0, 5);
}

// load escape screen pages
Exec("bzshell_init.cfg");
Exec("bzshell_single.cfg");
Exec("bzshell_multi.cfg");
Exec("bzshell_instant.cfg");
Exec("bzshell_login.cfg");
Exec("bzshell_load.cfg");
Exec("bzshell_option.cfg");
Exec("bzshell_single_debrief.cfg");
Exec("bzshell_login_warn_dupfiles.cfg");
Exec("bzshell_warn_crashlogged.cfg");
Exec("bzshell_premods.cfg");
Exec("bzshell_addons.cfg");
Exec("bzshell_mods.cfg");
Exec("bzshell_stats.cfg");

//
// CREATE THE MAIN SHELL PANEL
//
CreateControl("ShellMain", "WINDOW")
{

	Geom("PARENTWIDTH", "PARENTHEIGHT");
	Style("TRANSPARENT", "INERT");
	

	//
	// create the Campaign options button
	//
	CreateControl("Single", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("TOP", "LEFT");
		Position(40, 160); // 160
		Size(111, 00);
		BorderSize(10);
		BevelSize(1);
		// Geometry("HCENTRE", "TOP");
		// Position(-90, 20);
		// BorderSize(10);
		// BevelSize(5);
		Style("ROLLOVER", "RADIO", "OUTLINE");
		Text("Campaign");								// SIRBRAMLEY
		Font("MEDIUM");									// SIRBRAMLEY
		Cursor("Highlight");
		NotifyParent("Button::Select", "Single");	
		UseVar("shell.page");
		Value(0);
		
		// NotifyParent("Button::Press", "Single");			// GBD
		// Size(188, 74);									// GBD
		// Cursor("Default");								// GBD
		// Style("ROLLOVER");								// GBD
		// Image("ButtonM.tga", 0, 0, 564, 222);			// GBD
		// Sound("MouseEnter", "shmroll.wav");				// GBD
		// Sound("ButtonPress", "shmclick.wav");			// GBD
		
	}
	
	//
	// create the Multiplayer button
	//
	CreateControl("Multi", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("TOP", "LEFT");
		Position(40, 185); // 190
		Size(111, 00);
		// Geometry("HCENTRE", "TOP");
		// Position(90, 20);
		// Size(140, 0);
		BorderSize(10);
		BevelSize(1);
		// BorderSize(10);
		// BevelSize(5);
		Style("ROLLOVER", "RADIO", "OUTLINE");
		Text("Multiplayer");						// SIRBRAMLEY
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Select", "Multi");
		UseVar("shell.page");
		Value(2);
	}

	//
	// create the IA button
	//
	CreateControl("Instant", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("TOP", "LEFT");
		Position(40, 210); // 220
		Size(111, 00);
		// Geometry("HCENTRE", "BOTTOM");
		// Position(0, -20);
		// Size(151, 0);
		BorderSize(10);
		BevelSize(1);
		// BorderSize(10);
		// BevelSize(5);
		Style("ROLLOVER", "RADIO", "OUTLINE");
		Text("Skirmish");						// SIRBRAMLEY
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Select", "Instant");
		UseVar("shell.page");
		Value(1);
	}
	
	
	//
	// create the load saves button
	//
	CreateControl("Load", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("TOP", "LEFT");
		Position(40, 235); //250
		Size(111, 00);
		// Geometry("BOTTOM", "RIGHT");
		// Position(-20, -20);
		// Size(111, 0);
		BorderSize(10);
		BevelSize(1);
		// BorderSize(10);
		// BevelSize(5);
		Style("ROLLOVER", "RADIO", "OUTLINE");
		Text("Load");
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Select", "Load");
		UseVar("shell.page");
		Value(3);
	}

	//
	// create the mods options button
	//
	CreateControl("Mods", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("TOP", "LEFT");
		Position(40, 260); //280
		Size(111, 00);		
		// Geometry("RIGHT");
		// Position(-20, 20);
		// Size(111, 0);
		BorderSize(10);
		BevelSize(1);
		Style("ROLLOVER", "OUTLINE");
		Text("Mods");
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Press", "Mods");
	}


	//
	// create the load options button
	//
	CreateControl("Options", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("TOP", "LEFT");
		Position(40, 285); // 310
		Size(111, 00);	
		// Geometry("LEFT", "BOTTOM");
		// Position(20, -20);
		// Size(111, 0);
		BorderSize(10);
		BevelSize(1);
		// BorderSize(10);
		// BevelSize(5);
		Style("ROLLOVER", "RADIO", "OUTLINE");
		Text("Settings");						// SIRBRAMLEY
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Select", "Options");
		UseVar("shell.page");
		Value(4);
	}
	
	//
	// create the logout button
	//
	CreateControl("Logout", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("TOP", "LEFT");
		Position(40, 310); //340
		Size(111, 00);
		BorderSize(10);
		BevelSize(1);
		//Position(20, 20);
		//Size(111, 00);
		//BorderSize(10);
		//BevelSize(5);
		Style("ROLLOVER", "OUTLINE");
		//	Text("Logout");
		Text("Logout"); 								// SIRBRAMLEY
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Press", "Logout");
	}
	
	//
	// create the quit button
	//
	CreateControl("Quit", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("TOP", "LEFT");
		Position(40, 335); //370
		Size(111, 00);
		BorderSize(10);
		BevelSize(1);
		//Position(20, 20);
		//Size(111, 00);
		//BorderSize(10);
		//BevelSize(5);
		Style("ROLLOVER", "OUTLINE");
		//	Text("Logout");
		Text("Quit"); 									// SIRBRAMLEY
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Press", "Quit");
	}
	
			
	//
	// create the game version
	//
	CreateControl("Version", "STATIC")
	{
		Geometry("BOTTOM", "RIGHT");
		Position(-80, -10);
		// Position(-20, -10);
		// Position(-180, -10);
		// Size(150, 15);
		// Font("MEDIUM");
		Size(100, 15);
		Font("SMALL");
		Text("VERSION: unknown");
		JustifyText("center");
		Style("TRANSPARENT"); // "OUTLINE", 
	}

	
	// HIDE MOVIE											//SIRBRAMLEY
	//CreateControl("Movie", "STATIC")
	//{
	//	ColorGroup("WHITE");
	//	Geometry("HCENTRE", "VCENTRE");
	//	Position(0, 0);
	//	Size(320, 240);
	//}	
	
	
	
	//
	// SHOW ACHIEVEMENTS BUTTON
	// 
	CreateControl("Achievements", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("BOTTOM", "RIGHT");
		Position(-320, -15);
		Size(100, 5);
		BorderSize(5);
		BevelSize(1);
		Style("ROLLOVER", "OUTLINE");
		Text("Achievements");
		Font("SMALL");
		Cursor("Highlight");
		NotifyParent("Button::Press", "Achievements");
	}
	
	//
	// SHOW STATS BUTTON
	// 	
	CreateControl("Stats", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("BOTTOM", "RIGHT");
		Position(-200, -15);
		Size(100, 5);
		BorderSize(5);
		BevelSize(1);
		Style("ROLLOVER", "OUTLINE");
		Text("Player Stats");
		Font("SMALL");
		Cursor("Highlight");
		NotifyParent("Button::Press", "Stats");
	}


	OnEvent("Control::ActivateSelf")
	{
		cmd("shell.showversion");
		cmd("shell.background main.tga BackStarField.tga");
		Cmd("shell.page 5");
		cmd("shell.movie");
		Activate("|ShellMain");
		cmd("shell.backgroundSound mire22_2.wav");
	}
	
	OnEvent("Control::DeactivateSelf")
	{
		cmd("shell.stopSound mire22_2.wav");
	}

	OnEvent("Single")
	{
		FadeOut("|ShellLogin");
		FadeOut("|ShellMulti");
		FadeOut("|ShellInstant");
		FadeOut("|EscapeLoad");
		FadeOut("|ShellMain");
		FadeIn("|ShellSingle");
		Cmd("shell.single.enter");
	}

	OnEvent("PostPreMovie")
	{
		Deactivate("|ShellLogin");
		Deactivate("|ShellMulti");
		Deactivate("|ShellInstant");
		Deactivate("|EscapeLoad");
		Deactivate("|ShellMain");
		Deactivate("|ShellSingle");
		Activate("|ShellSingle");
	}
	
	OnEvent("Instant")
	{
		FadeOut("|ShellLogin");
		FadeOut("|ShellMulti");
		FadeOut("|ShellSingle");
		FadeOut("|EscapeLoad");
		FadeOut("|ShellMain");
		FadeIn("|ShellInstant");
	}
	
	OnEvent("Multi")
	{
		//FadeOut("|ShellLogin");
		//FadeOut("|ShellInstant");
		//FadeOut("|ShellSingle");
		//FadeOut("|EscapeLoad");
		//FadeOut("|ShellMain");
		Cmd("shell.multi.enter");
		//FadeIn("|ShellMulti");
	}

	OnEvent("Load")
	{
		FadeOut("|ShellLogin");
		FadeOut("|ShellInstant");
		FadeOut("|ShellSingle");
		FadeOut("|ShellMulti");
		FadeOut("|ShellMain");
		FadeIn("|ShellLoad");
	}

	OnEvent("Options")
	{
		FadeOut("|ShellLogin");
		FadeOut("|ShellInstant");
		FadeOut("|ShellSingle");
		FadeOut("|EscapeLoad");
		FadeOut("|ShellMulti");
		FadeOut("|ShellMain");
		FadeIn("|OptionPanel");
	}

	OnEvent("Mods")
	{
		FadeOut("|ShellLogin");
		FadeOut("|ShellInstant");
		FadeOut("|ShellSingle");
		FadeOut("|EscapeLoad");
		FadeOut("|ShellMulti");
		FadeOut("|ShellMain");
		FadeIn("|ShellPreMods");
	}

	// CHANGE QUIT TO LOGOUT BUTTON
	OnEvent("Logout")
	// OnEvent("Quit")
	{
		FadeOut("|ShellMain");
		FadeIn("|ShellLogin");
		//Cmd("sys.runcode quit");	
	}
	
	//
	// ADD PLAYER ACHIEVEMENTS TO SCREEN
	//
	OnEvent("Achievements")
	{
		cmd("shell.viewachievements");
	}

	//
	// ADD PLAYER STATS TO SCREEN
	//
	OnEvent("Stats")
	{
		FadeOut("|ShellLogin");
		FadeOut("|ShellInstant");
		FadeOut("|ShellSingle");
		FadeOut("|EscapeLoad");
		FadeOut("|ShellMulti");
		FadeOut("|ShellMain");		
		// FadeOut("|EscapePlay");
		// FadeOut("|OptionPanel");
		FadeIn("|ShellStats");
	}
	
	// ADD QUIT BUTTON
	OnEvent("Quit")
	{
		Cmd("sys.runcode quit");
	}

}
